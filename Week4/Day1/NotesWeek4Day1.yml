ğŸ“‘ Agenda for Week 4 Day 1: Handling Frames 

ğŸ¯ [Focus: Understanding to interact with frames ]  

ğŸ“† Date: 15 December [Monday]  

ğŸ• Session Highlights

â¿¡ Recap
* Quick review of key learnings from previous sessions.  

â¿£ Interaction with Frames
* Understanding the concept of iframes in web applications.  
* Navigating into and interacting with elements inside frames.  

  
ğŸ•¡ Wrap Up / Q&A  

ğŸ“ Keep your physical notebook and pen handy to sketchÂ outÂ ideas!


Frames :
-------

Definition: An HTML document embedded inside another document using an <iframe> tag. Playwright allows direct interaction with elements inside frames.

Usage: Useful for automating pages that load content inside frames or nested frames.

Syntax:

page.frames()-> frames() method helps to get the collection of frames that is present in a webpage.

page.frame({ name | url | index }) â†’ Gets the frame object to interact with.

page.frameLocator(selector) â†’ Locates elements inside a frame (recommended).


Example sites :

https://www.w3schools.com/html/html_iframe.asp

https://the-internet.herokuapp.com/iframe

https://www.oneindia.com/ 

https://uitestingplayground.com/iframe
---------------------------------------------------------------------------------
Extra leanrings :
---------------

Reason for the difference in frames shown in DevTools vs Playwright:
--------------------------------------------------------------------

DevTools shows all DOM iframes (even hidden, detached, ad trackers).

Playwright only shows active, attached frames that the browser can script against.

Below code you can get the frames present in DOM :

import { test } from "@playwright/test";

test("Compare iframe count - DOM vs Playwright", async ({ page }) => {
  await page.goto("https://www.oneindia.com/");

  // wait for ads & trackers to load
  await page.waitForTimeout(5000);

  // 1. Count iframes using DOM query (same as DevTools)
  const domIframes = await page.evaluate(() => {
    return document.querySelectorAll("iframe").length;
  });

  // 2. Count frames using Playwright API
  const pwFrames = page.frames();

  console.log("DOM iframes (DevTools style):", domIframes);
  console.log("Playwright frames (API style):", pwFrames.length);

  // Print first few frame URLs
  console.log("\n--- Playwright Frames ---");
  pwFrames.slice(0, 10).forEach((frame, idx) => {
    console.log(idx + 1, ":", frame.url());
  });
});

-----------------------------------------------------------------------------



Alerts /Dialogs:
---------------

Definition: Browser pop-ups such as alert, confirm, prompt, or beforeunload triggered by JavaScript.

Usage: Intercept and handle dialog events to read their message and accept or dismiss them.

Syntax:

page.on('dialog', async dialog => { ... }) â†’ Listen and handle.

await dialog.accept([promptText]) â†’ Accept dialog (optionally providing input for prompts).

await dialog.dismiss() â†’ Cancel dialog.

Event Listeners
--------------
Definition: You subscribe to an event via Playwright's event emitter system.

Usage: Allows multiple listeners for the same event. No overwriting â€” all registered callbacks run.

Syntax: page.on(eventName, callback) or page.once(eventName, callback)