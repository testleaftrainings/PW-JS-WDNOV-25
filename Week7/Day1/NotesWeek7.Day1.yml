ðŸ“‘ **Agenda for Week 7 Day 1: Jira Integration & Playwright Advanced Features
ðŸŽ¯ [Focus: Jira Integration and Playwright Features]

ðŸ“† [07th Jan. Wednesday]

ðŸ• Session Highlights

â¿¡ Recap
Quick review of previous learnings.

1. Jira Integration
Linking test results with Jira issues.
Automating status updates and reporting.

2. Advanced Features of Playwright.
Geolocation, Visual Regression.

------------------------------------------------

Notes :

Jira :
-----

## ðŸ”¹ What is `testInfo` in Playwright?

`testInfo` is an **object automatically provided by Playwright** that contains **complete runtime information about a test execution**.

ðŸ‘‰ Think of `testInfo` as a **report card of the test**.

---

## ðŸ”¹ Where does `testInfo` come from?

In hooks like:

```ts
test.afterAll(async ({}, testInfo) => {
  await logADefectInJira(testInfo);
});
```

Playwright **injects `testInfo` for you**.

You **do NOT create it**
You **do NOT import it here**

Playwright does it internally.

---

## ðŸ”¹ Why `{}` as the first parameter?

Normally hooks receive **fixtures** first:

```ts
async ({ page }, testInfo) => {}
```

But in `afterAll`:

* You **donâ€™t need page**
* You **only need testInfo**

So you write:

```ts
async ({}, testInfo) => {}
```

ðŸ‘‰ `{}` means:

> â€œIâ€™m ignoring all fixturesâ€

---

## ðŸ”¹ What does `testInfo` contain?

`testInfo` is of type:

```ts
TestInfo
```

(imported in your helper file)

It contains **everything about the test run**.

---

## ðŸ”¹ Important `testInfo` Properties (REAL USE)

### âœ… 1ï¸âƒ£ `testInfo.status`

```ts
testInfo.status
```

Possible values:

* `"passed"`
* `"failed"`
* `"timedOut"`
* `"skipped"`

ðŸ‘‰ You used this correctly:

```ts
if (testinfo.status === "failed" || testinfo.status === "timedOut")
```

---

### âœ… 2ï¸âƒ£ `testInfo.title`

```ts
testInfo.title
```

Returns:

```
Test to record tracing a specific bug - YourName
```

ðŸ‘‰ Perfect for **Jira bug summary**

---

### âœ… 3ï¸âƒ£ `testInfo.error`

testInfo.error
```

Contains:

* Error message
* Stack trace
* Assertion failure

ðŸ‘‰ You used it for **Jira description** ðŸ’¯

---

### âœ… 4ï¸âƒ£ `testInfo.attachments`

testInfo.attachments

Contains:

* Screenshots
* Videos
* Traces

ðŸ‘‰ Can be uploaded to Jira later

---

### âœ… 5ï¸âƒ£ `testInfo.outputDir`

testInfo.outputDir

Path to:

```
test-results/...
```

Used for **custom reporters**

---

## ðŸ”¹ Flow in YOUR Code (End-to-End)

### What actually happens?

1ï¸âƒ£ Test runs
2ï¸âƒ£ Test **fails** (Salesforce / locator / timeout)
3ï¸âƒ£ Playwright records:

* Status
* Error
* Screenshot
* Trace
  4ï¸âƒ£ `afterAll` hook executes
  5ï¸âƒ£ Playwright **passes `testInfo`**
  6ï¸âƒ£ `logADefectInJira(testInfo)` is called
  7ï¸âƒ£ Jira bug is created using:
* `testInfo.title`
* `testInfo.status`
* `testInfo.error`

ðŸ‘‰ **Zero manual intervention**

---

## ðŸ”¹ Why `afterAll` is a Smart Choice

| Option      | Result                       |
| ----------- | ---------------------------- |
| `afterEach` | âŒ Creates multiple Jira bugs |
| `afterAll`  | âœ… One clean Jira bug         |
| Inside test | âŒ Pollutes test logic        |
| Reporter    | âœ… Advanced (next level)      |


---

## ðŸ”¹ One-Line Definition 

> **`testInfo` is a Playwright-provided runtime object that contains execution status, errors, metadata, and artifacts of a test.**

---


